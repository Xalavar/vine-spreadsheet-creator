{"version":3,"file":"theme.js","names":["console","log","sidebar","document","querySelector","sidebarToggles","querySelectorAll","collapseEl","collapseElementList","slice","call","sidebarCollapseList","map","bootstrap","Collapse","toggle","addEventListener","e","body","classList","contains","bsCollapse","hide","window","vw","Math","max","documentElement","clientWidth","innerWidth","fixedNaigation","on","e0","originalEvent","delta","wheelDelta","detail","scrollTop","preventDefault","scrollToTop","scrollDistance","pageYOffset","style","display","$","change","val","show","localStorage","getItem","setItem","JSON","stringify","getFormVal","elem","tagName","value","checked","deepMerge","target","source","key","forEach","column","listGroupHead","closest","id","options","storedSettings","parse","itemId","keyName","dataset","lsRef","localValue","undefined","settingsToUpdate","updatedSettings","optionValue"],"sources":["../src/Bootstrap Studio/theme.js"],"sourcesContent":["(function() {\n  \"use strict\"; // Start of use strict\n\n    console.log('THIS IS VISIBLE')\n  var sidebar = document.querySelector('.sidebar');\n  var sidebarToggles = document.querySelectorAll('#sidebarToggle, #sidebarToggleTop');\n  \n  if (sidebar) {\n    \n    var collapseEl = sidebar.querySelector('.collapse');\n    var collapseElementList = [].slice.call(document.querySelectorAll('.sidebar .collapse'))\n    var sidebarCollapseList = collapseElementList.map(function (collapseEl) {\n      return new bootstrap.Collapse(collapseEl, { toggle: false });\n    });\n\n    for (var toggle of sidebarToggles) {\n\n      // Toggle the side navigation\n      toggle.addEventListener('click', function(e) {\n        document.body.classList.toggle('sidebar-toggled');\n        sidebar.classList.toggle('toggled');\n\n        if (sidebar.classList.contains('toggled')) {\n          for (var bsCollapse of sidebarCollapseList) {\n            bsCollapse.hide();\n          }\n        };\n      });\n    }\n\n    // Close any open menu accordions when window is resized below 768px\n    window.addEventListener('resize', function() {\n      var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n      if (vw < 768) {\n        for (var bsCollapse of sidebarCollapseList) {\n          bsCollapse.hide();\n        }\n      };\n    });\n  }\n\n  // Prevent the content wrapper from scrolling when the fixed side navigation hovered over\n  \n  var fixedNaigation = document.querySelector('body.fixed-nav .sidebar');\n  \n  if (fixedNaigation) {\n    fixedNaigation.on('mousewheel DOMMouseScroll wheel', function(e) {\n      var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n      if (vw > 768) {\n        var e0 = e.originalEvent,\n          delta = e0.wheelDelta || -e0.detail;\n        this.scrollTop += (delta < 0 ? 1 : -1) * 30;\n        e.preventDefault();\n      }\n    });\n  }\n\n  var scrollToTop = document.querySelector('.scroll-to-top');\n  \n  if (scrollToTop) {\n    \n    // Scroll to top button appear\n    window.addEventListener('scroll', function() {\n      var scrollDistance = window.pageYOffset;\n\n      //check if user is scrolling up\n      if (scrollDistance > 100) {\n        scrollToTop.style.display = 'block';\n      } else {\n        scrollToTop.style.display = 'none';\n      }\n    });\n  }\n    \n    /* Column Order Dropdowns */\n   \n    /* Delete Data Modal */\n        $('#erasure-type').change(function(){\n        // Check if the selected value is \"picked-years\"\n        if ($(this).val() === 'individual-years') {\n            // Show the grid of checkboxes for specific years\n            $('#year-selection').show();\n        } else {\n            // Hide the grid of checkboxes for specific years\n            $('#year-selection').hide();\n        }\n    });\n    \n    // Load settings from local storage\n    (localStorage.getItem('VSE_settings')) ? null : localStorage.setItem('VSE_settings', JSON.stringify({}));\n    \n    function getFormVal(elem) {\n        //console.log(elem.tagName)\n        if (elem.tagName === \"SELECT\") {\n            return elem.value;\n        } else {\n            return elem.checked;\n        }\n    }\n    \n    function deepMerge(target, source) {\n        for (const key in source) {\n            if (typeof source[key] === 'object' && source[key] !== null) {\n                target[key] = deepMerge(target[key] || {}, source[key]);\n            } else {\n                target[key] = source[key];\n            }\n        }\n        return target;\n    }\n    \n    /* Checks for making sure settings exist */\n    // Loop through each list group\n    document.querySelectorAll('.list-group-item').forEach(function(column) {\n        const listGroupHead = column.closest('.list-group').id;\n\n        column.querySelectorAll('select, input').forEach(function (options) {\n\n            var storedSettings = JSON.parse(localStorage.getItem('VSE_settings'));\n            // Get the corresponding setting from stored settings\n            const itemId = options.closest('.list-group-item').id;//options.id; // Assuming column id is the setting name\n            //const listGroupHead = options.parentElement.id;\n            const keyName = options.dataset.lsRef;\n            const localValue = \n              storedSettings && \n              storedSettings[listGroupHead] && \n              (\n                (storedSettings[listGroupHead][itemId] && storedSettings[listGroupHead][itemId][keyName]) ||\n                storedSettings[listGroupHead][keyName]\n              );\n            // If it exists, set the dropdown to the stored setting\n            if (localValue !== undefined) {\n                if (options.tagName === \"SELECT\") {\n                    options.value = localValue;\n                } else {\n                    options.checked = localValue;\n                }\n            } else {\n                // otherwise use the value currently selected\n                var settingsToUpdate = {};\n                settingsToUpdate[listGroupHead] = {};\n                if (itemId !== '') {\n                    // the list group item has no name; intended for 2-layer object nesting instead of 3\n                    settingsToUpdate[listGroupHead][itemId] = {};\n                    settingsToUpdate[listGroupHead][itemId][keyName] = getFormVal(options);\n                } else {\n                    settingsToUpdate[listGroupHead][keyName] = getFormVal(options);\n                }\n                \n                // Merge new settings with existing stored settings\n                const updatedSettings = deepMerge(storedSettings, settingsToUpdate);\n                localStorage.setItem('VSE_settings', JSON.stringify(updatedSettings));\n            }\n            // Add event listener to update stored settings when selection changes\n            options.addEventListener('change', function() {\n                console.log('something changed.')\n                var storedSettings = JSON.parse(localStorage.getItem('VSE_settings'));\n                var settingsToUpdate = {};\n                settingsToUpdate[listGroupHead] = {};\n                var optionValue = getFormVal(options);\n                if (itemId !== '') {\n                    // the list group item has no name; intended for 2-layer object nesting instead of 3\n                    settingsToUpdate[listGroupHead][itemId] = {};\n                    settingsToUpdate[listGroupHead][itemId][keyName] = optionValue;\n                } else {\n                    settingsToUpdate[listGroupHead][keyName] = optionValue;\n                }\n                \n                // Merge new settings with existing stored settings\n                const updatedSettings = deepMerge(storedSettings, settingsToUpdate);\n                \n                console.log(settingsToUpdate)\n                console.log(storedSettings)\n                console.log(updatedSettings)\n                \n                localStorage.setItem('VSE_settings', JSON.stringify(updatedSettings));\n                 console.log('god')\n            });\n        });\n\n    });\n\n    \n})(); // End of use strict\n"],"mappings":"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","ignoreList":[]}